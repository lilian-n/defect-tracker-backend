(this["webpackJsonpdefect-tracker-frontend"]=this["webpackJsonpdefect-tracker-frontend"]||[]).push([[0],{376:function(e,t,a){e.exports=a.p+"static/media/bug-icon.148dbc25.png"},391:function(e,t,a){e.exports=a(480)},478:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),i=a(24),o=a(25),u=a(18),s=a.n(u),d=a(35),m=a(93),f=a(77),p=new f.b.Entity("projects",{}),b=new f.b.Entity("users",{}),E=new f.b.Entity("defects",{}),j=new f.b.Entity("comments",{});p.define({defects:[E],users:[b]}),E.define({comments:[j]});var v,O,h,g,y=a(43),x=a.n(y),I="/api/projects",w=function(){return xe.getState().token},N={getAll:function(){var e=Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w(),a={headers:{Authorization:"Bearer ".concat(t)}},e.abrupt("return",x.a.get(I,a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(e){var t=w(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.post(I,e,a)},update:function(e,t){var a=w(),n={headers:{Authorization:"Bearer ".concat(a)}};return x.a.put("".concat(I,"/").concat(e),t,n)},remove:function(e){var t=w(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.delete("".concat(I,"/").concat(e),a)}},D=a(150),S=function(){return xe.getState().token},P=function(){var e=S(),t={headers:{Authorization:"Bearer ".concat(e)}};return x.a.get("/api/defects",t)},k=function(e){var t=S(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.get("".concat("/api/defects","/").concat(e),a)},C=function(e){var t=S(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.get("".concat("/api/defects","/defects-by-project/").concat(e),a)},A=function(e){var t=S(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.post("/api/defects",e,a)},R=function(e,t){var a=S(),n={headers:{Authorization:"Bearer ".concat(a)}};return x.a.put("".concat("/api/defects","/").concat(e),t,n)},T=function(e){var t=S(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.delete("".concat("/api/defects","/").concat(e),a)},W=Object(i.c)(),M=Object(i.b)("defects/fetchAll",Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return t=e.sent,a=Object(f.a)(t.data,[E]),e.abrupt("return",a.entities);case 5:case"end":return e.stop()}}),e)})))),B=Object(i.b)("defects/fetchByProject",function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:return a=e.sent,n=Object(f.a)(a.data,[E]),e.abrupt("return",n.entities);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(i.b)("defects/fetchById",function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:return a=e.sent,n=Object(f.a)(a.data,E),e.abrupt("return",n.entities);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(i.b)("defects/add",function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return a=e.sent,n=Object(D.a)(Object(D.a)({},a.data),{},{comments:[]}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=Object(i.b)("defects/update",function(){var e=Object(d.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,r=t.id,e.prev=2,e.next=5,R(r,t);case 5:return c=e.sent,e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",n(e.t0.response.data));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()),q=Object(i.b)("defects/delete",function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t.id);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F=Object(i.d)({name:"defects",initialState:W.getInitialState({status:"idle",error:null}),reducers:{},extraReducers:(v={},Object(o.a)(v,M.pending,(function(e,t){e.status="loading"})),Object(o.a)(v,M.fulfilled,(function(e,t){e.status="succeeded",W.setAll(e,t.payload.defects)})),Object(o.a)(v,M.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),Object(o.a)(v,B.fulfilled,(function(e,t){t.payload.defects&&W.upsertMany(e,t.payload.defects)})),Object(o.a)(v,U.pending,(function(e,t){e.status="loading"})),Object(o.a)(v,U.fulfilled,(function(e,t){e.status="succeeded",W.upsertMany(e,t.payload.defects)})),Object(o.a)(v,U.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),Object(o.a)(v,z.fulfilled,(function(e,t){W.addOne(e,t.payload)})),Object(o.a)(v,L.fulfilled,(function(e,t){W.upsertOne(e,t.payload)})),Object(o.a)(v,q.fulfilled,(function(e,t){W.removeOne(e,t.payload.id),console.log("action payload",t.payload)})),v)}).reducer,K=W.getSelectors((function(e){return e.defects})),H=K.selectById,Y=(K.selectIds,K.selectEntities,K.selectAll,K.selectTotal,Object(i.c)()),J=Object(i.b)("projects/fetchAll",Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getAll();case 2:return t=e.sent,a=Object(f.a)(t.data,[p]),e.abrupt("return",a.entities);case 5:case"end":return e.stop()}}),e)})))),V=Object(i.b)("projects/add",function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.create(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),G=Object(i.b)("projects/update",function(){var e=Object(d.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,r=t.id,e.prev=2,e.next=5,N.update(r,t);case 5:return c=e.sent,e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",n(e.t0.response.data));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()),Q=Object(i.d)({name:"projects",initialState:Y.getInitialState({status:"idle",error:null}),reducers:{},extraReducers:(O={},Object(o.a)(O,J.pending,(function(e,t){e.status="loading"})),Object(o.a)(O,J.fulfilled,(function(e,t){e.status="succeeded",Y.setAll(e,t.payload.projects)})),Object(o.a)(O,J.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),Object(o.a)(O,V.fulfilled,(function(e,t){e.data=e.data.concat(t.payload)})),Object(o.a)(O,G.fulfilled,(function(e,t){Y.upsertOne(e,t.payload)})),Object(o.a)(O,z.fulfilled,(function(e,t){var a=t.payload.projectId,n=t.payload.id;e.entities[a].defects=e.entities[a].defects.concat(n)})),Object(o.a)(O,q.fulfilled,(function(e,t){var a=t.payload.projectId,n=t.payload.projectId;e.entities[a].defects=e.entities[a].defects.filter((function(e){return e!==n}))})),O)}).reducer,_=Y.getSelectors((function(e){return e.projects})),X=_.selectById,Z=(_.selectIds,_.selectEntities,_.selectAll),$=(_.selectTotal,function(e){return Object(m.a)([function(t){return X(t,e)},function(e){return e.defects.ids.map((function(t){return e.defects.entities[t]}))}],(function(e,t){return e?Object.keys(t).map((function(e){return t[e]})).filter((function(t){return e.defects.includes(t.id)})):[]}))}),ee=function(){return xe.getState().token},te={getAll:function(){var e=Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ee(),a={headers:{Authorization:"Bearer ".concat(t)}},e.abrupt("return",x.a.get("/api/users",a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAuthenticatedUser:function(){var e=Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ee(),a={headers:{Authorization:"Bearer ".concat(t)}},e.abrupt("return",x.a.get("".concat("/api/users","/authenticatedUser"),a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(e){var t=ee(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.post("/api/users",e,a)}},ae=Object(i.c)(),ne=Object(i.b)("users/fetchAll",Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.getAll();case 2:return t=e.sent,a=Object(f.a)(t.data,[b]),e.abrupt("return",a.entities);case 5:case"end":return e.stop()}}),e)})))),re=Object(i.b)("users/add",function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.create(t);case 2:return a=e.sent,console.log("response data",a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ce=Object(i.d)({name:"users",initialState:ae.getInitialState({status:"idle"}),reducers:{},extraReducers:(h={},Object(o.a)(h,ne.pending,(function(e,t){e.status="loading"})),Object(o.a)(h,ne.fulfilled,(function(e,t){e.status="succeeded",ae.setAll(e,t.payload.users)})),Object(o.a)(h,ne.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),Object(o.a)(h,re.fulfilled,(function(e,t){ae.addOne(e,t.payload)})),h)}).reducer,le=ae.getSelectors((function(e){return e.users})),ie=(le.selectById,le.selectIds,le.selectEntities,le.selectAll),oe=(le.selectTotal,"".concat("http://localhost:3001","/api/comments")),ue=function(){return xe.getState().token},se=function(e){var t=ue(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.get("".concat(oe,"/defect/").concat(e),a)},de=Object(i.c)(),me=Object(i.b)("comments/fetchByDefect",function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),fe=Object(i.d)({name:"comments",initialState:de.getInitialState(),reducers:{},extraReducers:Object(o.a)({},me.fulfilled,(function(e,t){de.upsertMany(e,t.payload)}))}).reducer,pe=de.getSelectors((function(e){return e.comments})),be=(pe.selectById,pe.selectIds,pe.selectEntities,pe.selectAll,pe.selectTotal,Object(i.d)({name:"token",initialState:"",reducers:{addToken:function(e,t){return t.payload}}})),Ee=be.actions.addToken,je=be.reducer,ve=Object(i.b)("authenticatedUser/fetch",Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.getAuthenticatedUser();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),Oe=Object(i.d)({name:"authUser",initialState:{data:{},status:"",error:null},extraReducers:(g={},Object(o.a)(g,ve.pending,(function(e,t){e.status="loading"})),Object(o.a)(g,ve.fulfilled,(function(e,t){var a=t.payload?t.payload:{role:"UNASSIGNED"};e.status="fulfilled",e.data=a})),Object(o.a)(g,ve.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),g)}).reducer,he=Object(i.d)({name:"filter",initialState:"NONE",reducers:{changeFilter:function(e,t){return t.payload}}}),ge=he.actions.changeFilter,ye=he.reducer,xe=Object(i.a)({reducer:{token:je,authUser:Oe,filter:ye,projects:Q,users:ce,defects:F,comments:fe}}),Ie=a(40),we=a(12),Ne=a(37),De=function(){return r.a.createElement("footer",{className:"bg-light p-3 text-center"},r.a.createElement("p",null,"Lilian Nguyen"))},Se=a(376),Pe=a.n(Se),ke=function(){var e=Object(Ne.b)().loginWithRedirect;return r.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:function(){return e({screen_hint:"signup"})}},"Sign Up")},Ce=function(){var e=Object(Ne.b)().isAuthenticated?r.a.createElement("div",null):r.a.createElement(ke,null);return r.a.createElement("div",{className:"text-center hero"},r.a.createElement("img",{className:"mb-3 app-logo",src:Pe.a,alt:"React logo",width:"1000"}),r.a.createElement("h1",{className:"mb-4"},"Defect Tracker (Demo!)"),r.a.createElement("p",{className:"lead mb-5"},"Track, manage, and maintain defects for all your software applications."),e)},Ae=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading..."}))},Re=a(26),Te=function(){return r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(Re.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Home"),r.a.createElement(Re.c,{to:"/projects",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Projects"),r.a.createElement(Re.c,{to:"/users",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Users"),r.a.createElement(Re.c,{to:"/defects",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Defects"))},We=function(){return r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(Re.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Home"),r.a.createElement(Re.c,{to:"/projects",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Assigned Project"),r.a.createElement(Re.c,{to:"/defects",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Defects"))},Me=function(){return r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(Re.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Home"))},Be=function(){return r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(Re.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Home"),r.a.createElement(Re.c,{to:"/signup",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Sign Up"))},Ue=function(){var e=Object(Ne.b)().loginWithRedirect;return r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e()}},"Log In")},ze=function(){var e=Object(Ne.b)().logout;return r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e({returnTo:window.location.origin})}},"Log Out")},Le=function(){return Object(Ne.b)().isAuthenticated?r.a.createElement(ze,null):r.a.createElement(Ue,null)},qe=function(){return r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement(Le,null))},Fe={VISITOR:{static:["home-page:visit","visitor-tab:view"]},UNASSIGNED:{static:["home-page:visit","unassigned-tab:view","sign-up:view"]},ADMIN:{static:["admin-tabs:view","projects:list","projects:viewOne","projects:create","projects:delete","projects:edit","users:list","users:viewOne","users:create","users:edit","users:delete","admin-defects:list","defects:viewOne","defects:create","defects:edit","defects:assignDev","defects:delete","comments:list","comments:create","comments:edit","comments:delete","admin-dashboard-page:visit","home-page:visit"]},"PROJECT LEAD":{static:["lead-dashboard-page:visit","home-page:visit","assigned-project-tabs:view","assigned-project-defects:list","comments:list","comments:create","comments:delete"],dynamic:{"projects:viewOne":function(e){var t=e.projectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:viewOne":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:create":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:edit":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:assignDev":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:delete":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"comments:edit":function(e){var t=e.userId,a=e.authorId;return!(!t||!a)&&t===a}}},"PROJECT MEMBER":{static:["member-dashboard-page:visit","home-page:visit","assigned-project-tabs:view","assigned-project-defects:list","comments:list","comments:create"],dynamic:{"projects:viewOne":function(e){var t=e.projectId,a=e.userProjectId;return!(!t||!a)&&t===a},"assigned-project-defects:list":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:viewOne":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:create":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"project-member-defects:edit":function(e){var t=e.userId,a=e.identifierId,n=e.assignedDevId;return!(!t||!a)&&(t===n||t===a)},"comments:edit":function(e){var t=e.userId,a=e.authorId;return!(!t||!a)&&t===a},"comments:delete":function(e){var t=e.userId,a=e.authorId;return!(!t||!a)&&t===a}}}},Ke=function(e){var t=e.role?e.role:"VISITOR";return function(e,t,a,n){var r=e[t];if(!r)return!1;var c=r.static;if(c&&c.includes(a))return!0;var l=r.dynamic;if(l){var i=l[a];return!!i&&i(n)}return!1}(Fe,t,e.perform,e.data)?e.yes():e.no()};Ke.defaultProps={yes:function(){return null},no:function(){return null}};var He=Ke,Ye=function(){var e=Object(we.d)((function(e){return e.authUser.data}));return r.a.createElement("div",{className:"nav-container mb-3"},r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement(He,{role:e.role,perform:"admin-tabs:view",yes:function(){return r.a.createElement(Te,null)}}),r.a.createElement(He,{role:e.role,perform:"assigned-project-tabs:view",yes:function(){return r.a.createElement(We,null)}}),r.a.createElement(He,{role:e.role,perform:"visitor-tab:view",yes:function(){return r.a.createElement(Me,null)}}),r.a.createElement(He,{role:e.role,perform:"unassigned-tab:view",yes:function(){return r.a.createElement(Be,null)}}),r.a.createElement(qe,null))))},Je=a(272),Ve=a(274),Ge=function(){return r.a.createElement("div",{className:"next-steps container"},r.a.createElement("h2",{className:"my-5 text-center"},"There are three roles."),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 mb-4"},r.a.createElement("h6",{className:"mb-3"},"ADMINISTRATOR"),r.a.createElement("p",null,"For this demo, you'll automatically be assigned this role when signing up. You can do it all: manage projects, users and defects across multiple projects. Only thing you can't do is update/delete other admins.")),r.a.createElement("div",{className:"col-md-4 mb-4"},r.a.createElement("h6",{className:"mb-3"},r.a.createElement(Re.b,null,r.a.createElement(Je.a,{icon:Ve.a,className:"mr-2"}),"PROJECT LEAD")),r.a.createElement("p",null,"Click the above link to log into a Project Lead account."),r.a.createElement("p",null,r.a.createElement("b",null,"Password:")," project-lead"),r.a.createElement("p",null,"Project Leads have access to their one assigned project. Within their domain, they are able to update (and delete!) any defect, as well as carry the responsibility to assign developers to certain defects.")),r.a.createElement("div",{className:"col-md-4 mb-4"},r.a.createElement("h6",{className:"mb-3"},r.a.createElement(Re.b,null,r.a.createElement(Je.a,{icon:Ve.a,className:"mr-2"}),"PROJECT MEMBER")),r.a.createElement("p",null,"Click the above link to log into a Project Member account."),r.a.createElement("p",null,r.a.createElement("b",null,"Password:")," project-member"),r.a.createElement("p",null,"Project Members only have access to their one assigned project. They are able to view all the defects within their project, but can only edit those they've personally made or been assigned."))))},Qe=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Ce,null),r.a.createElement("hr",null),r.a.createElement(Ge,null))},_e=function(){var e=Object(we.d)((function(e){return e.authUser.data}));return"UNASSIGNED"===e.role?r.a.createElement(Ie.a,{to:"/signup"}):r.a.createElement(He,{role:e.role,perform:"home-page:visit",yes:function(){return r.a.createElement(Qe,null)}})},Xe=a(17),Ze=a(114),$e=a.n(Ze),et=a(508),tt=a(533),at=a(63),nt=a(481),rt=a(507),ct=a(485),lt=a(226),it=a(491),ot=a(131),ut=a(31),st=a(257),dt=function(e){var t=e.open,a=e.setOpen,c=Object(we.c)(),l=Object(n.useState)(""),i=Object(Xe.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(""),f=Object(Xe.a)(m,2),p=f[0],b=f[1],E=Object(n.useState)(new Date),j=Object(Xe.a)(E,2),v=j[0],O=j[1],h=Object(n.useState)(new Date),g=Object(Xe.a)(h,2),y=g[0],x=g[1],I=function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c(V({title:o,description:p,startDate:v,targetEndDate:y})),u(""),b(""),O(new Date),x(new Date),a(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){a(!1)};return r.a.createElement("div",null,r.a.createElement(nt.a,{open:t,onClose:w,"aria-labelledby":"add-project-label"},r.a.createElement("form",{onSubmit:I},r.a.createElement(rt.a,{id:"add-project-label"},"Add New Project"),r.a.createElement(ct.a,null,r.a.createElement(et.a,{container:!0,spacing:2},r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(lt.a,{required:!0,id:"title",label:"Title",value:o,onChange:function(e){return u(e.target.value)},fullWidth:!0})),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(lt.a,{required:!0,id:"projectDescription",label:"Description",value:p,onChange:function(e){return b(e.target.value)},fullWidth:!0})),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(ut.a,{utils:at.default},r.a.createElement(st.b,{required:!0,label:"Start Date",disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"startDateInput",value:v,onChange:function(e){return O(e)},fullWidth:!0,KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(ut.a,{utils:at.default},r.a.createElement(st.b,{required:!0,disableToolbar:!0,label:"Target End Date",variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"targetEndDateInput",value:y,onChange:function(e){return x(e)},fullWidth:!0,KeyboardButtonProps:{"aria-label":"change date"}}))))),r.a.createElement(it.a,null,r.a.createElement(ot.a,{onClick:w,color:"primary"},"Cancel"),r.a.createElement(ot.a,{type:"submit",color:"primary"},"Submit")))))},mt=a(125),ft=a.n(mt),pt=a(516),bt=a(517),Et=a(518),jt=a(519),vt=a(520),Ot=a(521),ht=a(522),gt=a(523),yt=a(524),xt=a(525),It=a(526),wt=a(527),Nt=a(528),Dt=a(529),St=a(530),Pt={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(pt.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(bt.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(Et.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(vt.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ot.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(ht.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(yt.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(xt.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(vt.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(It.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(Et.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(wt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(Nt.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Dt.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(St.a,Object.assign({},e,{ref:t}))}))},kt=function(e){var t=e.data;return r.a.createElement(ft.a,{title:"Projects",data:t,icons:Pt,columns:[{title:"Id",field:"id",render:function(e){return r.a.createElement(Re.b,{to:"/projects/".concat(e.id)},e.id)},maxWidth:50},{title:"Title",field:"title",maxWidth:100},{title:"Description",field:"description"},{title:"Start Date",field:"startDate",maxWidth:100},{title:"Target End Date",field:"targetEndDate",maxWidth:100},{title:"Actual End Date",field:"actualEndDate",maxWidth:100}]})},Ct=function(){var e=Object(we.d)(Z),t=$e.a.cloneDeep(e),a=Object(n.useState)(!1),c=Object(Xe.a)(a,2),l=c[0],i=c[1];return r.a.createElement("div",{className:"container"},r.a.createElement(et.a,{container:!0,spacing:3},r.a.createElement(et.a,{item:!0,container:!0,justify:"flex-end",xs:12},r.a.createElement(tt.a,{variant:"primary",onClick:function(){return i(!0)},size:"sm",style:{height:40}},"Add Project")),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(dt,{open:l,setOpen:i}),r.a.createElement(kt,{data:t}))))},At=function(){var e,t=Object(we.d)((function(e){return e.authUser.data}));return"fulfilled"===Object(we.d)((function(e){return e.authUser.status}))&&(e=t.projectId),e?r.a.createElement(Ie.a,{to:"projects/".concat(e)}):r.a.createElement(He,{role:t.role,perform:"projects:list",yes:function(){return r.a.createElement(Ct,null)},no:function(){return r.a.createElement("div",null,"You do not have permission to view this page.")}})},Rt=a(70),Tt=a(262),Wt=a(263),Mt=a(268),Bt=a(348),Ut=function(){var e=Object(n.useState)("NONE"),t=Object(Xe.a)(e,2),a=t[0],c=t[1],l=Object(we.c)(),i=Object(we.d)(Z);return r.a.createElement(Tt.a,{variant:"outlined",style:{minWidth:200}},r.a.createElement(Wt.a,{id:"choose-project-label"},"Choose Project"),r.a.createElement(Mt.a,{labelId:"choose-project-label",label:"Choose Project",id:"projectFilter",value:a,onChange:function(e){l(ge(e.target.value)),c(e.target.value)}},r.a.createElement(Bt.a,{value:"NONE"},r.a.createElement("em",null,"None")),i.map((function(e){return r.a.createElement(Bt.a,{key:e.id,value:e.id},e.title)}))))},zt=function(e){var t=e.data,a=e.projectTitle;return r.a.createElement(ft.a,{title:"Project: ".concat(a),data:t,icons:Pt,columns:[{title:"Id",field:"id",render:function(e){return r.a.createElement(Re.b,{to:"/defects/".concat(e.id)},e.id)},maxWidth:50},{title:"Status",field:"status",maxWidth:70},{title:"Summary",field:"summary"},{title:"Priority",field:"priority",maxWidth:70},{title:"Identifier",field:"identifier"},{title:"Assigned Developer",field:"assignedDev"},{title:"Identified Date",field:"dateIdentified",maxWidth:100},{title:"Target Resolution Date",field:"targetResDate",maxWidth:100}],options:{pageSize:20}})},Lt=function(e){var t=e.open,a=e.setOpen,c=e.projectId,l=e.projectTitle,i=Object(we.c)(),o=Object(n.useState)(""),u=Object(Xe.a)(o,2),s=u[0],d=u[1],m=Object(n.useState)(""),f=Object(Xe.a)(m,2),p=f[0],b=f[1],E=Object(n.useState)(""),j=Object(Xe.a)(E,2),v=j[0],O=j[1],h=Object(n.useState)(new Date),g=Object(Xe.a)(h,2),y=g[0],x=g[1],I=Object(n.useState)(null),w=Object(Xe.a)(I,2),N=w[0],D=w[1],S=function(){d(""),b(""),O(""),x(new Date),D(null),a(!1)};return r.a.createElement("div",null,r.a.createElement(nt.a,{open:t,onClose:S,fullWidth:!0,maxWidth:"sm","aria-labelledby":"add-defect-label"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(z({summary:s,description:p,priority:v,dateIdentified:y,targetResDate:N,projectId:c})),d(""),b(""),O(""),x(new Date),D(null),a(!1)}},r.a.createElement(rt.a,{id:"add-defect-label"},r.a.createElement("b",null,"Associated Project:")," ",l),r.a.createElement(ct.a,null,r.a.createElement(et.a,{container:!0,spacing:2},r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(lt.a,{autoFocus:!0,id:"summary",label:"Summary",value:s,onChange:function(e){return d(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(lt.a,{id:"description",multiline:!0,label:"Description",value:p,fullWidth:!0,onChange:function(e){return b(e.target.value)}})),r.a.createElement(et.a,{item:!0,xs:12,sm:6},r.a.createElement(ut.a,{utils:at.default},r.a.createElement(st.b,{clearable:!0,label:"Date Identified",format:"MM/dd/yyyy",value:y,onChange:function(e){return x(e)},KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0}))),r.a.createElement(et.a,{item:!0,xs:12,sm:6},r.a.createElement(ut.a,{utils:at.default},r.a.createElement(st.b,{clearable:!0,label:"Target Resolution Date",format:"MM/dd/yyyy",value:N,onChange:function(e){return D(e)},KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0}))),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(Tt.a,{fullWidth:!0},r.a.createElement(Wt.a,{shrink:!0,id:"priority-input-label"},"Priority"),r.a.createElement(Mt.a,{labelId:"priority-input-label",id:"priority",value:v,onChange:function(e){return O(e.target.value)}},r.a.createElement(Bt.a,{value:""},"None"),r.a.createElement(Bt.a,{value:"Low"},"Low"),r.a.createElement(Bt.a,{value:"Medium"},"Medium"),r.a.createElement(Bt.a,{value:"High"},"High"),r.a.createElement(Bt.a,{value:"Immediate"},"Immediate")))))),r.a.createElement(it.a,null,r.a.createElement(ot.a,{onClick:S,color:"primary"},"Cancel"),r.a.createElement(ot.a,{type:"submit",color:"primary"},"Submit")))))},qt=function(){var e=Object(we.c)(),t=Object(we.d)((function(e){return e.filter})),a=Object(we.d)((function(e){return X(e,t)})),c=Object(we.d)($(t)),l=$e.a.cloneDeep(c);Object(n.useEffect)((function(){"NONE"!==t&&e(B(t))}),[t,e]);var i,o=Object(n.useState)(!1),u=Object(Xe.a)(o,2),s=u[0],d=u[1];if("NONE"===t)i=r.a.createElement("div",{className:"container"},r.a.createElement(et.a,{container:!0,spacing:2},r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(Rt.a,{variant:"h6",gutterBottom:!0},"Choose project to view defects")),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(Ut,null))));else{var m=a?a.id:"",f=a?a.title:"";i=r.a.createElement("div",null,r.a.createElement(et.a,{container:!0,spacing:3},r.a.createElement(et.a,{item:!0,xs:6},r.a.createElement(Ut,null)),r.a.createElement(et.a,{item:!0,container:!0,xs:6,justify:"flex-end"},r.a.createElement(tt.a,{variant:"primary",onClick:function(){return d(!0)},size:"sm",style:{height:40}},"Add Defect")),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(zt,{data:l,projectTitle:f}),r.a.createElement(Lt,{open:s,setOpen:d,projectId:m,projectTitle:f}))))}return i},Ft=function(e){var t=e.projectId,a=Object(we.c)(),c=Object(Ne.b)(),l=c.isAuthenticated,i=c.getAccessTokenSilently,o=Object(we.d)((function(e){return e.authUser.data})),u=Object(we.d)((function(e){return X(e,t)})),s=Object(we.d)($(t)),d=$e.a.cloneDeep(s);Object(n.useEffect)((function(){l&&i().then((function(e){a(Ee(e)),a(B(t))}))}),[l,i,a,t]);var m=Object(n.useState)(!1),f=Object(Xe.a)(m,2),p=f[0],b=f[1],E=u?u.title:"";return r.a.createElement("div",null,r.a.createElement(et.a,{container:!0,spacing:3},r.a.createElement(et.a,{item:!0,container:!0,xs:12,justify:"flex-end"},r.a.createElement(He,{role:o.role,perform:"defects:create",data:{defectProjectId:t,userProjectId:o.projectId},yes:function(){return r.a.createElement(tt.a,{variant:"primary",onClick:function(){return b(!0)},size:"sm",style:{height:40}},"Add Defect")}})),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(zt,{data:d,projectTitle:E}),r.a.createElement(Lt,{open:p,setOpen:b,projectId:t,projectTitle:E}))))},Kt=function(){var e=Object(we.d)((function(e){return e.authUser.data}));return r.a.createElement("div",null,r.a.createElement(He,{role:e.role,perform:"admin-defects:list",yes:function(){return r.a.createElement(qt,null)}}),r.a.createElement(He,{role:e.role,perform:"assigned-project-defects:list",yes:function(){return r.a.createElement(Ft,{projectId:e.projectId})}}))},Ht=function(e){var t=e.data,a=e.title;return r.a.createElement(ft.a,{title:a,data:t,icons:Pt,columns:[{title:"Id",field:"id",maxWidth:50},{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Role",field:"role"},{title:"Assigned Project",field:"projectId"}]})},Yt=function(){var e=Object(we.d)((function(e){return e.authUser.data})),t=Object(we.d)(ie),a=$e.a.cloneDeep(t);return r.a.createElement(He,{role:e.role,perform:"users:list",yes:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(Ht,{data:a,title:"All Users"}))},no:function(){return r.a.createElement("div",null,"You do not have permission to visit this page.")}})},Jt=a(381),Vt=function(e){var t=e.component,a=Object(Jt.a)(e,["component"]);return r.a.createElement(Ie.b,Object.assign({component:Object(Ne.c)(t,{onRedirecting:function(){return r.a.createElement(Ae,null)}})},a))},Gt=a(514),Qt=a(177),_t=a.n(Qt),Xt=a(379),Zt=a.n(Xt),$t=a(380),ea=a(78),ta=a(532),aa=Object(ea.a)((function(e){return{root:{"& .MuiFormLabel-root":{color:"#002884"}}}})),na=function(e){var t=e.defect,a=e.readOnly,c=e.setReadOnly,l=e.identifier,i=e.dev,o=e.users,u=aa(),s=Object(we.c)(),d=Object(we.d)((function(e){return e.authUser.data})),m=Object(we.d)((function(e){return X(e,t.projectId)})),f=[].concat(Object($t.a)(o),[{id:null}]),p=m?m.title:"",b=i||{id:null},E=Object(n.useState)(t.summary),j=Object(Xe.a)(E,2),v=j[0],O=j[1],h=Object(n.useState)(b),g=Object(Xe.a)(h,2),y=g[0],x=g[1],I=Object(n.useState)(t.description),w=Object(Xe.a)(I,2),N=w[0],S=w[1],P=Object(n.useState)(t.status),k=Object(Xe.a)(P,2),C=k[0],A=k[1],R=Object(n.useState)(t.priority),T=Object(Xe.a)(R,2),W=T[0],M=T[1],B=Object(n.useState)(t.dateIdentified),U=Object(Xe.a)(B,2),z=U[0],q=U[1],F=Object(n.useState)(t.targetResDate),K=Object(Xe.a)(F,2),H=K[0],Y=K[1],J=Object(n.useState)(t.actualResolutionDate),V=Object(Xe.a)(J,2),G=V[0],Q=V[1],_=Object(n.useState)(t.progress),Z=Object(Xe.a)(_,2),$=Z[0],ee=Z[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=Object(D.a)(Object(D.a)({},t),{},{summary:v,description:N,status:C,priority:W,dateIdentified:z,targetResDate:H,actualResDate:G,progress:$,assignedDevId:y.id});s(L(a)),c()}},r.a.createElement(et.a,{container:!0,spacing:3},r.a.createElement(et.a,{item:!0,xs:12}),r.a.createElement(et.a,{item:!0,xs:12,md:9},r.a.createElement(lt.a,{id:"summary",label:"Summary",value:v,InputProps:{readOnly:a},fullWidth:!0,className:u.root,onChange:function(e){return O(e.target.value)},required:!0})),r.a.createElement(et.a,{item:!0,xs:6,md:3},r.a.createElement(Tt.a,{fullWidth:!0},r.a.createElement(Wt.a,{style:{color:"#002884"},shrink:!0,id:"status-input-label"},"Status"),r.a.createElement(Mt.a,{labelId:"status-input-label",id:"status",value:C,onChange:function(e){return A(e.target.value)},placeholder:C,inputProps:{readOnly:a}},r.a.createElement(Bt.a,{value:"OPEN"},"OPEN"),r.a.createElement(Bt.a,{value:"CLOSED"},"CLOSED")))),r.a.createElement(et.a,{item:!0,xs:6,md:3},r.a.createElement(He,{perform:"defects:assignDev",data:{defectProjectId:t.projectId,userProjectId:d.projectId},yes:function(){return r.a.createElement(ta.a,{style:{marginTop:-16},id:"user-select",options:f,value:b,onChange:function(e,t){x(t||{id:null})},getOptionLabel:function(e){var t;return null!==(t=e.name)&&void 0!==t?t:""},getOptionSelected:function(e,t){return e.id===t.id},renderInput:function(e){return r.a.createElement(lt.a,Object.assign({},e,{label:"Assigned Developer",margin:"normal"}))},className:u.root,readOnly:a})},no:function(){return r.a.createElement(ta.a,{style:{marginTop:-16},id:"user-select",options:f,value:b,onChange:function(e,t){x(t||{id:null})},getOptionLabel:function(e){var t;return null!==(t=e.name)&&void 0!==t?t:""},getOptionSelected:function(e,t){return e.id===t.id},renderInput:function(e){return r.a.createElement(lt.a,Object.assign({},e,{label:"Assigned Developer",margin:"normal"}))},className:u.root,disabled:!a})}})),r.a.createElement(et.a,{item:!0,xs:6,md:3},r.a.createElement(Tt.a,{fullWidth:!0},r.a.createElement(Wt.a,{style:{color:"#002884"},shrink:!0,id:"priority-input-label"},"Priority"),r.a.createElement(Mt.a,{labelId:"priority-input-label",id:"priority",value:W,onChange:function(e){return M(e.target.value)},placeholder:W,inputProps:{readOnly:a}},r.a.createElement(Bt.a,{value:""},"None"),r.a.createElement(Bt.a,{value:"Low"},"Low"),r.a.createElement(Bt.a,{value:"Medium"},"Medium"),r.a.createElement(Bt.a,{value:"High"},"High"),r.a.createElement(Bt.a,{value:"Immediate"},"Immediate")))),r.a.createElement(et.a,{item:!0,xs:6,md:3},r.a.createElement(lt.a,{id:"identifier",label:"Identifier",value:l.name,InputProps:{readOnly:!0,disabled:!a},fullWidth:!0,className:u.root})),r.a.createElement(et.a,{item:!0,xs:12,md:3},r.a.createElement(lt.a,{id:"associated-project",label:"Associated Project",value:p,InputProps:{readOnly:!0,disabled:!a},fullWidth:!0,className:u.root})),r.a.createElement(et.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(ut.a,{utils:at.default},r.a.createElement(st.b,{clearable:!0,label:"Date Identified",format:"MM/dd/yyyy",value:z,onChange:function(e){return q(e)},inputProps:{readOnly:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0,className:u.root}))),r.a.createElement(et.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(ut.a,{utils:at.default},r.a.createElement(st.b,{clearable:!0,label:"Target Resolution Date",format:"MM/dd/yyyy",value:H,onChange:function(e){return Y(e)},inputProps:{readOnly:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0,className:u.root}))),r.a.createElement(et.a,{item:!0,xs:12,md:4},r.a.createElement(ut.a,{utils:at.default},r.a.createElement(st.b,{clearable:!0,label:"Actual Resolution Date",format:"MM/dd/yyyy",value:G,onChange:function(e){return Q(e)},inputProps:{readOnly:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0,className:u.root}))),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(lt.a,{id:"description",multiline:!0,label:"Detailed Description",value:N,InputProps:{readOnly:a},fullWidth:!0,className:u.root,onChange:function(e){return S(e.target.value)}})),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(lt.a,{multiline:!0,id:"progress",label:"Progress",value:$,InputProps:{readOnly:a},fullWidth:!0,onChange:function(e){return ee(e.target.value)},className:u.root})),r.a.createElement(et.a,{container:!0,padding:3,spacing:1},r.a.createElement(et.a,{item:!0,xs:6,container:!0,justify:"flex-end"},!a&&r.a.createElement(ot.a,{variant:"contained",type:"submit",color:"primary",style:{display:{readOnly:a}}},"Submit")),r.a.createElement(et.a,{item:!0,xs:6,container:!0,justify:"flex-start"},!a&&r.a.createElement(ot.a,{variant:"contained",onClick:function(){c(),O(t.summary),S(t.description),A(t.status),x(t.assignedDev),M(t.priority),q(t.dateIdentified),Y(t.targetResolutionDate),Q(t.actualResDate),ee(t.progress)},color:"inherit"},"Cancel")))))},ra=function(){var e=Object(Ne.b)(),t=e.isAuthenticated,a=e.getAccessTokenSilently,c=Object(we.d)((function(e){return e.authUser.data})),l=Object(Ie.h)().id,i=Object(Ie.g)(),o=Object(we.c)(),u=Object(we.d)((function(e){return H(e,Number(l))})),s=Object(we.d)((function(e){return e.defects.status})),d=Object(we.d)((function(e){return e.defects.error})),m=Object(we.d)(ie),f=Object(we.d)((function(e){return e.users.status})),p=Object(n.useState)(!0),b=Object(Xe.a)(p,2),E=b[0],j=b[1],v={display:E?"":"none"};Object(n.useEffect)((function(){t&&a().then((function(e){o(Ee(e)),o(U(l))}))}),[l,o,a,t]);var O,h=function(){j(!E)},g=function(){var e={id:l,projectId:u.projectId};o(q(e)),q.fulfilled&&i.push("/defects")};if("loading"===s)O=r.a.createElement(Ae,null);else if("succeeded"===s&&"succeeded"===f){var y=m.find((function(e){return e.id===u.identifierId})),x=m.find((function(e){return e.id===u.assignedDevId}));O=r.a.createElement("div",{className:"container"},r.a.createElement(et.a,{container:!0,spacing:1},r.a.createElement(et.a,{item:!0,xs:6},r.a.createElement("h3",null,"Defect #",l)),r.a.createElement(et.a,{item:!0,container:!0,justify:"flex-end",xs:6,spacing:2},r.a.createElement(He,{role:c.role,perform:"defects:edit",data:{defectProjectId:u.projectId,userProjectId:c.projectId},yes:function(){return r.a.createElement(Gt.a,{onClick:h,color:"primary","aria-label":"edit",size:"medium",style:v},r.a.createElement(_t.a,null))}}),r.a.createElement(He,{role:c.role,perform:"project-member-defects:edit",data:{userId:c.id,identifierId:u.identifierId,assignedDevId:u.assignedDevId},yes:function(){return r.a.createElement(Gt.a,{onClick:h,color:"primary","aria-label":"edit",size:"medium",style:v},r.a.createElement(_t.a,null))}}),r.a.createElement("div",{style:{width:10}}),r.a.createElement(He,{role:c.role,perform:"defects:delete",data:{defectProjectId:u.projectId,userProjectId:c.projectId},yes:function(){return r.a.createElement(Gt.a,{onClick:g,color:"secondary","aria-label":"delete",size:"medium"},r.a.createElement(Zt.a,null))}})),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(na,{defect:u,readOnly:E,setReadOnly:h,identifier:y,dev:x,users:m}))))}else"failed"===s&&(O=r.a.createElement("div",null,d));var I=u?u.projectId:null;return r.a.createElement(He,{role:c.role,perform:"defects:viewOne",data:{defectProjectId:I,userProjectId:c.projectId},yes:function(){return r.a.createElement("div",null,O)},no:function(){return r.a.createElement("div",null,"You do not have permission to view this page.")}})},ca=function(e){var t=e.project,a=e.readOnly,c=e.setReadOnly,l=Object(we.c)(),i=Object(n.useState)(t.title),o=Object(Xe.a)(i,2),u=o[0],s=o[1],d=Object(n.useState)(t.description),m=Object(Xe.a)(d,2),f=m[0],p=m[1],b=Object(n.useState)(t.startDate),E=Object(Xe.a)(b,2),j=E[0],v=E[1],O=Object(n.useState)(t.targetEndDate),h=Object(Xe.a)(O,2),g=h[0],y=h[1],x=Object(n.useState)(t.actualEndDate),I=Object(Xe.a)(x,2),w=I[0],N=I[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a={id:t.id,title:u,description:f,startDate:j,targetEndDate:g,actualEndDate:w};l(G(a)),c()}},r.a.createElement(et.a,{container:!0,spacing:3},r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(lt.a,{id:"title",label:"Project Title",value:u,InputProps:{readOnly:a,disableUnderline:a},fullWidth:!0,onChange:function(e){return s(e.target.value)},required:!0})),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(lt.a,{required:!0,id:"description",multiline:!0,label:"Description",value:f,InputProps:{readOnly:a,disableUnderline:a},fullWidth:!0,onChange:function(e){return p(e.target.value)}})),r.a.createElement(et.a,{item:!0,xs:6,md:4},r.a.createElement(ut.a,{utils:at.default},r.a.createElement(st.b,{required:!0,clearable:!0,label:"Start Date",format:"MM/dd/yyyy",value:j,onChange:function(e){return v(e)},inputProps:{readOnly:a,disabled:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0}))),r.a.createElement(et.a,{item:!0,xs:6,md:4},r.a.createElement(ut.a,{utils:at.default},r.a.createElement(st.b,{required:!0,clearable:!0,label:"Target End Date",format:"MM/dd/yyyy",value:g,onChange:function(e){return y(e)},inputProps:{readOnly:a,disabled:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0}))),r.a.createElement(et.a,{item:!0,xs:12,md:4},r.a.createElement(ut.a,{utils:at.default},r.a.createElement(st.b,{clearable:!0,label:"Actual End Date",format:"MM/dd/yyyy",value:w,onChange:function(e){return N(e)},inputProps:{readOnly:a,disabled:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0}))),r.a.createElement(et.a,{container:!0,padding:3,spacing:1},r.a.createElement(et.a,{item:!0,xs:6,container:!0,justify:"flex-end"},!a&&r.a.createElement(ot.a,{variant:"contained",type:"submit",color:"primary",style:{display:{readOnly:a}}},"Submit")),r.a.createElement(et.a,{item:!0,xs:6,container:!0,justify:"flex-start"},!a&&r.a.createElement(ot.a,{variant:"contained",onClick:function(){c(),s(t.title),p(t.description),v(t.startDate),y(t.targetEndDate),N(t.actualEndDate)},color:"inherit"},"Cancel")))))},la=function(e){var t,a,c=e.id,l=Object(we.d)((function(e){return e.authUser.data})),i=Object(we.d)((function(e){return X(e,c)})),o=Object(we.d)((t=c,Object(m.a)([function(e){return X(e,t)},function(e){return e.users.ids.map((function(t){return e.users.entities[t]}))}],(function(e,t){return e?Object.keys(t).map((function(e){return t[e]})).filter((function(t){return e.users.includes(t.id)})):[]})))),u=Object(we.d)((function(e){return e.projects.status})),s=Object(n.useState)(!0),d=Object(Xe.a)(s,2),f=d[0],p=d[1],b={display:f?"":"none"},E=function(){p(!f)};return"loading"===u?a=r.a.createElement(Ae,null):"succeeded"===u?a=r.a.createElement("div",{className:"container"},r.a.createElement(et.a,{container:!0,spacing:1},r.a.createElement(et.a,{item:!0,xs:6},r.a.createElement("h3",null,i.title)),r.a.createElement(et.a,{item:!0,container:!0,justify:"flex-end",xs:6,spacing:2},r.a.createElement(He,{role:l.role,perform:"projects:edit",yes:function(){return r.a.createElement(Gt.a,{onClick:E,color:"primary","aria-label":"edit",size:"medium",style:b},r.a.createElement(_t.a,null))}})),r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(ca,{project:i,readOnly:f,setReadOnly:E})),r.a.createElement(et.a,{item:!0,xs:12}),r.a.createElement(et.a,{item:!0,xs:12,style:{padding:10}},r.a.createElement(Ht,{data:o,title:"Users in Project"})))):"failed"===u&&(a=r.a.createElement("div",null,"projectError")),r.a.createElement("div",null,a)},ia=function(){var e=Object(we.d)((function(e){return e.authUser.data})),t=Object(we.d)((function(e){return e.authUser.status})),a=Number(Object(Ie.h)().id),n="fulfilled"===t?e.projectId:null;return r.a.createElement(He,{role:e.role,perform:"projects:viewOne",data:{projectId:a,userProjectId:n},yes:function(){return r.a.createElement(la,{id:a})},no:function(){return r.a.createElement("div",{className:"container"},"You do not have permission to access this page.")}})},oa=a(513),ua=function(){var e=Object(we.c)(),t=Object(Ie.g)(),a=Object(Ne.b)().user,c=Object(n.useState)(""),l=Object(Xe.a)(c,2),i=l[0],o=l[1],u=Object(n.useState)(""),s=Object(Xe.a)(u,2),d=s[0],m=s[1];return r.a.createElement("div",null,r.a.createElement(nt.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:!0,"aria-labelledby":"user-signup-label"},r.a.createElement("form",{onSubmit:function(n){n.preventDefault();var r={name:i,role:"ADMIN",email:a.email,occupation:d};console.log("\ud83d\ude80 ~ file: UserSignUpForm.js ~ line 36 ~ addUser ~ newValues",r),e(re(r)).then((function(){e(ve())})).then((function(){t.push("/")}))}},r.a.createElement(rt.a,{id:"add-user-label"},"New User Sign Up"),r.a.createElement(ct.a,null,r.a.createElement(et.a,{container:!0,spacing:2},r.a.createElement(et.a,{item:!0,xs:12},r.a.createElement(oa.a,null,"You will automatically be assigned an Admin role upon sign up.")),r.a.createElement(et.a,{item:!0,container:!0,justify:"center",xs:12},r.a.createElement(lt.a,{required:!0,id:"name",value:i,label:"Name",onChange:function(e){return o(e.target.value)},fullWidth:!0,InputLabelProps:{shrink:!0}})),r.a.createElement(et.a,{container:!0,justify:"center",item:!0,xs:12},r.a.createElement(Tt.a,{fullWidth:!0},r.a.createElement(Wt.a,{required:!0,shrink:!0,id:"priority-input-label"},"Occupation"),r.a.createElement(Mt.a,{required:!0,labelId:"occupation-input-label",id:"occupation",value:d,onChange:function(e){return m(e.target.value)},placeholder:""},r.a.createElement(Bt.a,{value:"Tester"},"Tester"),r.a.createElement(Bt.a,{value:"Developer"},"Developer"),r.a.createElement(Bt.a,{value:"Manager"},"Manager")))),r.a.createElement(et.a,{item:!0,container:!0,xs:12,justify:"center"},r.a.createElement(it.a,null,r.a.createElement(ot.a,{type:"submit",color:"primary"},"Sign Up"))))))))},sa=function(){var e=Object(we.d)((function(e){return e.authUser.data}));return r.a.createElement(He,{role:e.role,perform:"sign-up:view",yes:function(){return r.a.createElement(ua,null)},no:function(){return r.a.createElement(Ie.a,{to:"/"})}})},da=(a(478),function(){var e=Object(we.c)(),t=Object(Ne.b)(),a=t.isLoading,c=t.isAuthenticated,l=t.getAccessTokenSilently,i=t.user;return Object(n.useEffect)((function(){c&&l().then((function(t){e(Ee(t)),e(ve()),e(J()),e(ne())}))}),[e,l,c,i]),a?r.a.createElement(Ae,null):r.a.createElement("div",{id:"app",className:"d-flex flex-column h-100"},r.a.createElement(Ye,null),r.a.createElement("div",{className:"container-fluid flex-grow-1 flex-shrink-1 mb-5"},r.a.createElement("div",{className:"mt-3"},r.a.createElement(Ie.d,null,r.a.createElement(Ie.b,{exact:!0,path:"/",component:_e}),r.a.createElement(Vt,{exact:!0,path:"/signup",component:sa}),r.a.createElement(Vt,{exact:!0,path:"/projects",component:At}),r.a.createElement(Vt,{exact:!0,path:"/projects/:id",component:ia}),r.a.createElement(Vt,{exact:!0,path:"/users",component:Yt}),r.a.createElement(Vt,{exact:!0,path:"/defects",component:Kt}),r.a.createElement(Vt,{exact:!0,path:"/defects/:id",component:ra})))),r.a.createElement(De,null))}),ma=function(e){var t=e.children,a=Object(Ie.g)();return r.a.createElement(Ne.a,{domain:"defect-tracker.us.auth0.com",clientId:"dGdaBCwaB0hITkYE4h3t4xQuS7F9SvcU",redirectUri:window.location.origin,onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"defect-tracker/api"},t)};a(479);l.a.render(r.a.createElement(Re.a,null,r.a.createElement(ma,null,r.a.createElement(we.a,{store:xe},r.a.createElement(da,null)))),document.getElementById("root"))}},[[391,1,2]]]);
//# sourceMappingURL=main.aa7bda22.chunk.js.map