(this["webpackJsonpdefect-tracker-frontend"]=this["webpackJsonpdefect-tracker-frontend"]||[]).push([[0],{376:function(e,t,a){e.exports=a.p+"static/media/bug-icon.148dbc25.png"},391:function(e,t,a){e.exports=a(480)},478:function(e,t,a){},479:function(e,t,a){},480:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),i=a(24),o=a(25),u=a(18),s=a.n(u),d=a(35),m=a(93),f=a(77),p=new f.b.Entity("projects",{}),b=new f.b.Entity("users",{}),E=new f.b.Entity("defects",{}),j=new f.b.Entity("comments",{});p.define({defects:[E],users:[b]}),E.define({comments:[j]});var v,O,h,g,y=a(43),x=a.n(y),I="".concat("http://localhost:3001","/api/projects"),w=function(){return we.getState().token},N={getAll:function(){var e=Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w(),a={headers:{Authorization:"Bearer ".concat(t)}},e.abrupt("return",x.a.get(I,a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(e){var t=w(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.post(I,e,a)},update:function(e,t){var a=w(),n={headers:{Authorization:"Bearer ".concat(a)}};return x.a.put("".concat(I,"/").concat(e),t,n)},remove:function(e){var t=w(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.delete("".concat(I,"/").concat(e),a)}},D=a(150),S="".concat("http://localhost:3001","/api/defects"),P=function(){return we.getState().token},k=function(){var e=P(),t={headers:{Authorization:"Bearer ".concat(e)}};return x.a.get(S,t)},C=function(e){var t=P(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.get("".concat(S,"/").concat(e),a)},A=function(e){var t=P(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.get("".concat(S,"/defects-by-project/").concat(e),a)},R=function(e){var t=P(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.post(S,e,a)},T=function(e,t){var a=P(),n={headers:{Authorization:"Bearer ".concat(a)}};return x.a.put("".concat(S,"/").concat(e),t,n)},W=function(e){var t=P(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.delete("".concat(S,"/").concat(e),a)},M=Object(i.c)(),B=Object(i.b)("defects/fetchAll",Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return t=e.sent,a=Object(f.a)(t.data,[E]),e.abrupt("return",a.entities);case 5:case"end":return e.stop()}}),e)})))),U=Object(i.b)("defects/fetchByProject",function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:return a=e.sent,n=Object(f.a)(a.data,[E]),e.abrupt("return",n.entities);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),z=Object(i.b)("defects/fetchById",function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t);case 2:return a=e.sent,n=Object(f.a)(a.data,E),e.abrupt("return",n.entities);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=Object(i.b)("defects/add",function(){var e=Object(d.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(t);case 2:return a=e.sent,n=Object(D.a)(Object(D.a)({},a.data),{},{comments:[]}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),q=Object(i.b)("defects/update",function(){var e=Object(d.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,r=t.id,e.prev=2,e.next=5,T(r,t);case 5:return c=e.sent,e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",n(e.t0.response.data));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()),F=Object(i.b)("defects/delete",function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W(t.id);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),K=Object(i.d)({name:"defects",initialState:M.getInitialState({status:"idle",error:null}),reducers:{},extraReducers:(v={},Object(o.a)(v,B.pending,(function(e,t){e.status="loading"})),Object(o.a)(v,B.fulfilled,(function(e,t){e.status="succeeded",M.setAll(e,t.payload.defects)})),Object(o.a)(v,B.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),Object(o.a)(v,U.fulfilled,(function(e,t){t.payload.defects&&M.upsertMany(e,t.payload.defects)})),Object(o.a)(v,z.pending,(function(e,t){e.status="loading"})),Object(o.a)(v,z.fulfilled,(function(e,t){e.status="succeeded",M.upsertMany(e,t.payload.defects)})),Object(o.a)(v,z.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),Object(o.a)(v,L.fulfilled,(function(e,t){M.addOne(e,t.payload)})),Object(o.a)(v,q.fulfilled,(function(e,t){M.upsertOne(e,t.payload)})),Object(o.a)(v,F.fulfilled,(function(e,t){M.removeOne(e,t.payload.id),console.log("action payload",t.payload)})),v)}).reducer,H=M.getSelectors((function(e){return e.defects})),Y=H.selectById,J=(H.selectIds,H.selectEntities,H.selectAll,H.selectTotal,Object(i.c)()),V=Object(i.b)("projects/fetchAll",Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getAll();case 2:return t=e.sent,a=Object(f.a)(t.data,[p]),e.abrupt("return",a.entities);case 5:case"end":return e.stop()}}),e)})))),G=Object(i.b)("projects/add",function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.create(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Q=Object(i.b)("projects/update",function(){var e=Object(d.a)(s.a.mark((function e(t,a){var n,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,r=t.id,e.prev=2,e.next=5,N.update(r,t);case 5:return c=e.sent,e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",n(e.t0.response.data));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()),_=Object(i.d)({name:"projects",initialState:J.getInitialState({status:"idle",error:null}),reducers:{},extraReducers:(O={},Object(o.a)(O,V.pending,(function(e,t){e.status="loading"})),Object(o.a)(O,V.fulfilled,(function(e,t){e.status="succeeded",J.setAll(e,t.payload.projects)})),Object(o.a)(O,V.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),Object(o.a)(O,G.fulfilled,(function(e,t){e.data=e.data.concat(t.payload)})),Object(o.a)(O,Q.fulfilled,(function(e,t){J.upsertOne(e,t.payload)})),Object(o.a)(O,L.fulfilled,(function(e,t){var a=t.payload.projectId,n=t.payload.id;e.entities[a].defects=e.entities[a].defects.concat(n)})),Object(o.a)(O,F.fulfilled,(function(e,t){var a=t.payload.projectId,n=t.payload.projectId;e.entities[a].defects=e.entities[a].defects.filter((function(e){return e!==n}))})),O)}).reducer,X=J.getSelectors((function(e){return e.projects})),Z=X.selectById,$=(X.selectIds,X.selectEntities,X.selectAll),ee=(X.selectTotal,function(e){return Object(m.a)([function(t){return Z(t,e)},function(e){return e.defects.ids.map((function(t){return e.defects.entities[t]}))}],(function(e,t){return e?Object.keys(t).map((function(e){return t[e]})).filter((function(t){return e.defects.includes(t.id)})):[]}))}),te="".concat("http://localhost:3001","/api/users"),ae=function(){return we.getState().token},ne={getAll:function(){var e=Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ae(),a={headers:{Authorization:"Bearer ".concat(t)}},e.abrupt("return",x.a.get(te,a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAuthenticatedUser:function(){var e=Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ae(),a={headers:{Authorization:"Bearer ".concat(t)}},e.abrupt("return",x.a.get("".concat(te,"/authenticatedUser"),a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(e){var t=ae(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.post(te,e,a)}},re=Object(i.c)(),ce=Object(i.b)("users/fetchAll",Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.getAll();case 2:return t=e.sent,a=Object(f.a)(t.data,[b]),e.abrupt("return",a.entities);case 5:case"end":return e.stop()}}),e)})))),le=Object(i.b)("users/add",function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.create(t);case 2:return a=e.sent,console.log("response data",a.data),e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ie=Object(i.d)({name:"users",initialState:re.getInitialState({status:"idle"}),reducers:{},extraReducers:(h={},Object(o.a)(h,ce.pending,(function(e,t){e.status="loading"})),Object(o.a)(h,ce.fulfilled,(function(e,t){e.status="succeeded",re.setAll(e,t.payload.users)})),Object(o.a)(h,ce.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),Object(o.a)(h,le.fulfilled,(function(e,t){re.addOne(e,t.payload)})),h)}).reducer,oe=re.getSelectors((function(e){return e.users})),ue=(oe.selectById,oe.selectIds,oe.selectEntities,oe.selectAll),se=(oe.selectTotal,"".concat("http://localhost:3001","/api/comments")),de=function(){return we.getState().token},me=function(e){var t=de(),a={headers:{Authorization:"Bearer ".concat(t)}};return x.a.get("".concat(se,"/defect/").concat(e),a)},fe=Object(i.c)(),pe=Object(i.b)("comments/fetchByDefect",function(){var e=Object(d.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),be=Object(i.d)({name:"comments",initialState:fe.getInitialState(),reducers:{},extraReducers:Object(o.a)({},pe.fulfilled,(function(e,t){fe.upsertMany(e,t.payload)}))}).reducer,Ee=fe.getSelectors((function(e){return e.comments})),je=(Ee.selectById,Ee.selectIds,Ee.selectEntities,Ee.selectAll,Ee.selectTotal,Object(i.d)({name:"token",initialState:"",reducers:{addToken:function(e,t){return t.payload}}})),ve=je.actions.addToken,Oe=je.reducer,he=Object(i.b)("authenticatedUser/fetch",Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.getAuthenticatedUser();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),ge=Object(i.d)({name:"authUser",initialState:{data:{},status:"",error:null},extraReducers:(g={},Object(o.a)(g,he.pending,(function(e,t){e.status="loading"})),Object(o.a)(g,he.fulfilled,(function(e,t){var a=t.payload?t.payload:{role:"UNASSIGNED"};e.status="fulfilled",e.data=a})),Object(o.a)(g,he.rejected,(function(e,t){e.status="failed",e.error=t.error.message})),g)}).reducer,ye=Object(i.d)({name:"filter",initialState:"NONE",reducers:{changeFilter:function(e,t){return t.payload}}}),xe=ye.actions.changeFilter,Ie=ye.reducer,we=Object(i.a)({reducer:{token:Oe,authUser:ge,filter:Ie,projects:_,users:ie,defects:K,comments:be}}),Ne=a(40),De=a(12),Se=a(37),Pe=function(){return r.a.createElement("footer",{className:"bg-light p-3 text-center"},r.a.createElement("p",null,"Lilian Nguyen"))},ke=a(376),Ce=a.n(ke),Ae=function(){var e=Object(Se.b)().loginWithRedirect;return r.a.createElement("button",{className:"btn btn-primary btn-lg",onClick:function(){return e({screen_hint:"signup"})}},"Sign Up")},Re=function(){var e=Object(Se.b)().isAuthenticated?r.a.createElement("div",null):r.a.createElement(Ae,null);return r.a.createElement("div",{className:"text-center hero"},r.a.createElement("img",{className:"mb-3 app-logo",src:Ce.a,alt:"React logo",width:"1000"}),r.a.createElement("h1",{className:"mb-4"},"Defect Tracker (Demo!)"),r.a.createElement("p",{className:"lead mb-5"},"Track, manage, and maintain defects for all your software applications."),e)},Te=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading..."}))},We=a(26),Me=function(){return r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(We.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Home"),r.a.createElement(We.c,{to:"/projects",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Projects"),r.a.createElement(We.c,{to:"/users",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Users"),r.a.createElement(We.c,{to:"/defects",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Defects"))},Be=function(){return r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(We.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Home"),r.a.createElement(We.c,{to:"/projects",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Assigned Project"),r.a.createElement(We.c,{to:"/defects",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Defects"))},Ue=function(){return r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(We.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Home"))},ze=function(){return r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(We.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Home"),r.a.createElement(We.c,{to:"/signup",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Sign Up"))},Le=function(){var e=Object(Se.b)().loginWithRedirect;return r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return e()}},"Log In")},qe=function(){var e=Object(Se.b)().logout;return r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return e({returnTo:window.location.origin})}},"Log Out")},Fe=function(){return Object(Se.b)().isAuthenticated?r.a.createElement(qe,null):r.a.createElement(Le,null)},Ke=function(){return r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement(Fe,null))},He={VISITOR:{static:["home-page:visit","visitor-tab:view"]},UNASSIGNED:{static:["home-page:visit","unassigned-tab:view","sign-up:view"]},ADMIN:{static:["admin-tabs:view","projects:list","projects:viewOne","projects:create","projects:delete","projects:edit","users:list","users:viewOne","users:create","users:edit","users:delete","admin-defects:list","defects:viewOne","defects:create","defects:edit","defects:assignDev","defects:delete","comments:list","comments:create","comments:edit","comments:delete","admin-dashboard-page:visit","home-page:visit"]},"PROJECT LEAD":{static:["lead-dashboard-page:visit","home-page:visit","assigned-project-tabs:view","assigned-project-defects:list","comments:list","comments:create","comments:delete"],dynamic:{"projects:viewOne":function(e){var t=e.projectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:viewOne":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:create":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:edit":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:assignDev":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:delete":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"comments:edit":function(e){var t=e.userId,a=e.authorId;return!(!t||!a)&&t===a}}},"PROJECT MEMBER":{static:["member-dashboard-page:visit","home-page:visit","assigned-project-tabs:view","assigned-project-defects:list","comments:list","comments:create"],dynamic:{"projects:viewOne":function(e){var t=e.projectId,a=e.userProjectId;return!(!t||!a)&&t===a},"assigned-project-defects:list":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:viewOne":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"defects:create":function(e){var t=e.defectProjectId,a=e.userProjectId;return!(!t||!a)&&t===a},"project-member-defects:edit":function(e){var t=e.userId,a=e.identifierId,n=e.assignedDevId;return!(!t||!a)&&(t===n||t===a)},"comments:edit":function(e){var t=e.userId,a=e.authorId;return!(!t||!a)&&t===a},"comments:delete":function(e){var t=e.userId,a=e.authorId;return!(!t||!a)&&t===a}}}},Ye=function(e){var t=e.role?e.role:"VISITOR";return function(e,t,a,n){var r=e[t];if(!r)return!1;var c=r.static;if(c&&c.includes(a))return!0;var l=r.dynamic;if(l){var i=l[a];return!!i&&i(n)}return!1}(He,t,e.perform,e.data)?e.yes():e.no()};Ye.defaultProps={yes:function(){return null},no:function(){return null}};var Je=Ye,Ve=function(){var e=Object(De.d)((function(e){return e.authUser.data}));return r.a.createElement("div",{className:"nav-container mb-3"},r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement(Je,{role:e.role,perform:"admin-tabs:view",yes:function(){return r.a.createElement(Me,null)}}),r.a.createElement(Je,{role:e.role,perform:"assigned-project-tabs:view",yes:function(){return r.a.createElement(Be,null)}}),r.a.createElement(Je,{role:e.role,perform:"visitor-tab:view",yes:function(){return r.a.createElement(Ue,null)}}),r.a.createElement(Je,{role:e.role,perform:"unassigned-tab:view",yes:function(){return r.a.createElement(ze,null)}}),r.a.createElement(Ke,null))))},Ge=a(272),Qe=a(274),_e=function(){return r.a.createElement("div",{className:"next-steps container"},r.a.createElement("h2",{className:"my-5 text-center"},"There are three roles."),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4 mb-4"},r.a.createElement("h6",{className:"mb-3"},"ADMINISTRATOR"),r.a.createElement("p",null,"For this demo, you'll automatically be assigned this role when signing up. You can do it all: manage projects, users and defects across multiple projects. Only thing you can't do is update/delete other admins.")),r.a.createElement("div",{className:"col-md-4 mb-4"},r.a.createElement("h6",{className:"mb-3"},r.a.createElement(We.b,null,r.a.createElement(Ge.a,{icon:Qe.a,className:"mr-2"}),"PROJECT LEAD")),r.a.createElement("p",null,"Click the above link to log into a Project Lead account."),r.a.createElement("p",null,r.a.createElement("b",null,"Password:")," project-lead"),r.a.createElement("p",null,"Project Leads have access to their one assigned project. Within their domain, they are able to update (and delete!) any defect, as well as carry the responsibility to assign developers to certain defects.")),r.a.createElement("div",{className:"col-md-4 mb-4"},r.a.createElement("h6",{className:"mb-3"},r.a.createElement(We.b,null,r.a.createElement(Ge.a,{icon:Qe.a,className:"mr-2"}),"PROJECT MEMBER")),r.a.createElement("p",null,"Click the above link to log into a Project Member account."),r.a.createElement("p",null,r.a.createElement("b",null,"Password:")," project-member"),r.a.createElement("p",null,"Project Members only have access to their one assigned project. They are able to view all the defects within their project, but can only edit those they've personally made or been assigned."))))},Xe=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(Re,null),r.a.createElement("hr",null),r.a.createElement(_e,null))},Ze=function(){var e=Object(De.d)((function(e){return e.authUser.data}));return"UNASSIGNED"===e.role?r.a.createElement(Ne.a,{to:"/signup"}):r.a.createElement(Je,{role:e.role,perform:"home-page:visit",yes:function(){return r.a.createElement(Xe,null)}})},$e=a(17),et=a(114),tt=a.n(et),at=a(508),nt=a(533),rt=a(63),ct=a(481),lt=a(507),it=a(485),ot=a(226),ut=a(491),st=a(131),dt=a(31),mt=a(257),ft=function(e){var t=e.open,a=e.setOpen,c=Object(De.c)(),l=Object(n.useState)(""),i=Object($e.a)(l,2),o=i[0],u=i[1],m=Object(n.useState)(""),f=Object($e.a)(m,2),p=f[0],b=f[1],E=Object(n.useState)(new Date),j=Object($e.a)(E,2),v=j[0],O=j[1],h=Object(n.useState)(new Date),g=Object($e.a)(h,2),y=g[0],x=g[1],I=function(){var e=Object(d.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c(G({title:o,description:p,startDate:v,targetEndDate:y})),u(""),b(""),O(new Date),x(new Date),a(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){a(!1)};return r.a.createElement("div",null,r.a.createElement(ct.a,{open:t,onClose:w,"aria-labelledby":"add-project-label"},r.a.createElement("form",{onSubmit:I},r.a.createElement(lt.a,{id:"add-project-label"},"Add New Project"),r.a.createElement(it.a,null,r.a.createElement(at.a,{container:!0,spacing:2},r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ot.a,{required:!0,id:"title",label:"Title",value:o,onChange:function(e){return u(e.target.value)},fullWidth:!0})),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ot.a,{required:!0,id:"projectDescription",label:"Description",value:p,onChange:function(e){return b(e.target.value)},fullWidth:!0})),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(dt.a,{utils:rt.default},r.a.createElement(mt.b,{required:!0,label:"Start Date",disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"startDateInput",value:v,onChange:function(e){return O(e)},fullWidth:!0,KeyboardButtonProps:{"aria-label":"change date"}}))),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(dt.a,{utils:rt.default},r.a.createElement(mt.b,{required:!0,disableToolbar:!0,label:"Target End Date",variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"targetEndDateInput",value:y,onChange:function(e){return x(e)},fullWidth:!0,KeyboardButtonProps:{"aria-label":"change date"}}))))),r.a.createElement(ut.a,null,r.a.createElement(st.a,{onClick:w,color:"primary"},"Cancel"),r.a.createElement(st.a,{type:"submit",color:"primary"},"Submit")))))},pt=a(125),bt=a.n(pt),Et=a(516),jt=a(517),vt=a(518),Ot=a(519),ht=a(520),gt=a(521),yt=a(522),xt=a(523),It=a(524),wt=a(525),Nt=a(526),Dt=a(527),St=a(528),Pt=a(529),kt=a(530),Ct={Add:Object(n.forwardRef)((function(e,t){return r.a.createElement(Et.a,Object.assign({},e,{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return r.a.createElement(jt.a,Object.assign({},e,{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return r.a.createElement(vt.a,Object.assign({},e,{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return r.a.createElement(Ot.a,Object.assign({},e,{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return r.a.createElement(ht.a,Object.assign({},e,{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return r.a.createElement(gt.a,Object.assign({},e,{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return r.a.createElement(yt.a,Object.assign({},e,{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return r.a.createElement(xt.a,Object.assign({},e,{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(It.a,Object.assign({},e,{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(wt.a,Object.assign({},e,{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(ht.a,Object.assign({},e,{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return r.a.createElement(Nt.a,Object.assign({},e,{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return r.a.createElement(vt.a,Object.assign({},e,{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return r.a.createElement(Dt.a,Object.assign({},e,{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return r.a.createElement(St.a,Object.assign({},e,{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return r.a.createElement(Pt.a,Object.assign({},e,{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return r.a.createElement(kt.a,Object.assign({},e,{ref:t}))}))},At=function(e){var t=e.data;return r.a.createElement(bt.a,{title:"Projects",data:t,icons:Ct,columns:[{title:"Id",field:"id",render:function(e){return r.a.createElement(We.b,{to:"/projects/".concat(e.id)},e.id)},maxWidth:50},{title:"Title",field:"title",maxWidth:100},{title:"Description",field:"description"},{title:"Start Date",field:"startDate",maxWidth:100},{title:"Target End Date",field:"targetEndDate",maxWidth:100},{title:"Actual End Date",field:"actualEndDate",maxWidth:100}]})},Rt=function(){var e=Object(De.d)($),t=tt.a.cloneDeep(e),a=Object(n.useState)(!1),c=Object($e.a)(a,2),l=c[0],i=c[1];return r.a.createElement("div",{className:"container"},r.a.createElement(at.a,{container:!0,spacing:3},r.a.createElement(at.a,{item:!0,container:!0,justify:"flex-end",xs:12},r.a.createElement(Je,{perform:"projects:create",yes:function(){return r.a.createElement(nt.a,{variant:"primary",onClick:function(){return i(!0)},size:"sm",style:{height:40}},"Add Project")}})),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ft,{open:l,setOpen:i}),r.a.createElement(At,{data:t}))))},Tt=function(){var e,t=Object(De.d)((function(e){return e.authUser.data}));return"fulfilled"===Object(De.d)((function(e){return e.authUser.status}))&&(e=t.projectId),e?r.a.createElement(Ne.a,{to:"projects/".concat(e)}):r.a.createElement(Je,{role:t.role,perform:"projects:list",yes:function(){return r.a.createElement(Rt,null)},no:function(){return r.a.createElement("div",null,"You do not have permission to view this page.")}})},Wt=a(70),Mt=a(262),Bt=a(263),Ut=a(268),zt=a(348),Lt=function(){var e=Object(n.useState)("NONE"),t=Object($e.a)(e,2),a=t[0],c=t[1],l=Object(De.c)(),i=Object(De.d)($);return r.a.createElement(Mt.a,{variant:"outlined",style:{minWidth:200}},r.a.createElement(Bt.a,{id:"choose-project-label"},"Choose Project"),r.a.createElement(Ut.a,{labelId:"choose-project-label",label:"Choose Project",id:"projectFilter",value:a,onChange:function(e){l(xe(e.target.value)),c(e.target.value)}},r.a.createElement(zt.a,{value:"NONE"},r.a.createElement("em",null,"None")),i.map((function(e){return r.a.createElement(zt.a,{key:e.id,value:e.id},e.title)}))))},qt=function(e){var t=e.data,a=e.projectTitle;return r.a.createElement(bt.a,{title:"Project: ".concat(a),data:t,icons:Ct,columns:[{title:"Id",field:"id",render:function(e){return r.a.createElement(We.b,{to:"/defects/".concat(e.id)},e.id)},maxWidth:50},{title:"Status",field:"status",maxWidth:70},{title:"Summary",field:"summary"},{title:"Priority",field:"priority",maxWidth:70},{title:"Identifier",field:"identifier"},{title:"Assigned Developer",field:"assignedDev"},{title:"Identified Date",field:"dateIdentified",maxWidth:100},{title:"Target Resolution Date",field:"targetResDate",maxWidth:100}],options:{pageSize:20}})},Ft=function(e){var t=e.open,a=e.setOpen,c=e.projectId,l=e.projectTitle,i=Object(De.c)(),o=Object(n.useState)(""),u=Object($e.a)(o,2),s=u[0],d=u[1],m=Object(n.useState)(""),f=Object($e.a)(m,2),p=f[0],b=f[1],E=Object(n.useState)(""),j=Object($e.a)(E,2),v=j[0],O=j[1],h=Object(n.useState)(new Date),g=Object($e.a)(h,2),y=g[0],x=g[1],I=Object(n.useState)(null),w=Object($e.a)(I,2),N=w[0],D=w[1],S=function(){d(""),b(""),O(""),x(new Date),D(null),a(!1)};return r.a.createElement("div",null,r.a.createElement(ct.a,{open:t,onClose:S,fullWidth:!0,maxWidth:"sm","aria-labelledby":"add-defect-label"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(L({summary:s,description:p,priority:v,dateIdentified:y,targetResDate:N,projectId:c})),d(""),b(""),O(""),x(new Date),D(null),a(!1)}},r.a.createElement(lt.a,{id:"add-defect-label"},r.a.createElement("b",null,"Associated Project:")," ",l),r.a.createElement(it.a,null,r.a.createElement(at.a,{container:!0,spacing:2},r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ot.a,{autoFocus:!0,id:"summary",label:"Summary",value:s,onChange:function(e){return d(e.target.value)},fullWidth:!0,required:!0})),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ot.a,{id:"description",multiline:!0,label:"Description",value:p,fullWidth:!0,onChange:function(e){return b(e.target.value)}})),r.a.createElement(at.a,{item:!0,xs:12,sm:6},r.a.createElement(dt.a,{utils:rt.default},r.a.createElement(mt.b,{clearable:!0,label:"Date Identified",format:"MM/dd/yyyy",value:y,onChange:function(e){return x(e)},KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0}))),r.a.createElement(at.a,{item:!0,xs:12,sm:6},r.a.createElement(dt.a,{utils:rt.default},r.a.createElement(mt.b,{clearable:!0,label:"Target Resolution Date",format:"MM/dd/yyyy",value:N,onChange:function(e){return D(e)},KeyboardButtonProps:{"aria-label":"change date"},fullWidth:!0}))),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(Mt.a,{fullWidth:!0},r.a.createElement(Bt.a,{shrink:!0,id:"priority-input-label"},"Priority"),r.a.createElement(Ut.a,{labelId:"priority-input-label",id:"priority",value:v,onChange:function(e){return O(e.target.value)}},r.a.createElement(zt.a,{value:""},"None"),r.a.createElement(zt.a,{value:"Low"},"Low"),r.a.createElement(zt.a,{value:"Medium"},"Medium"),r.a.createElement(zt.a,{value:"High"},"High"),r.a.createElement(zt.a,{value:"Immediate"},"Immediate")))))),r.a.createElement(ut.a,null,r.a.createElement(st.a,{onClick:S,color:"primary"},"Cancel"),r.a.createElement(st.a,{type:"submit",color:"primary"},"Submit")))))},Kt=function(){var e=Object(De.c)(),t=Object(De.d)((function(e){return e.filter})),a=Object(De.d)((function(e){return Z(e,t)})),c=Object(De.d)(ee(t)),l=tt.a.cloneDeep(c);Object(n.useEffect)((function(){"NONE"!==t&&e(U(t))}),[t,e]);var i,o=Object(n.useState)(!1),u=Object($e.a)(o,2),s=u[0],d=u[1];if("NONE"===t)i=r.a.createElement("div",{className:"container"},r.a.createElement(at.a,{container:!0,spacing:2},r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(Wt.a,{variant:"h6",gutterBottom:!0},"Choose project to view defects")),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(Lt,null))));else{var m=a?a.id:"",f=a?a.title:"";i=r.a.createElement("div",null,r.a.createElement(at.a,{container:!0,spacing:3},r.a.createElement(at.a,{item:!0,xs:6},r.a.createElement(Lt,null)),r.a.createElement(at.a,{item:!0,container:!0,xs:6,justify:"flex-end"},r.a.createElement(Je,{perform:"defects:create",yes:function(){return r.a.createElement(nt.a,{variant:"primary",onClick:function(){return d(!0)},size:"sm",style:{height:40}},"Add Defect")}})),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(qt,{data:l,projectTitle:f}),r.a.createElement(Ft,{open:s,setOpen:d,projectId:m,projectTitle:f}))))}return i},Ht=function(e){var t=e.projectId,a=Object(De.c)(),c=Object(Se.b)(),l=c.isAuthenticated,i=c.getAccessTokenSilently,o=Object(De.d)((function(e){return e.authUser.data})),u=Object(De.d)((function(e){return Z(e,t)})),s=Object(De.d)(ee(t)),d=tt.a.cloneDeep(s);Object(n.useEffect)((function(){l&&i().then((function(e){a(ve(e)),a(U(t))}))}),[l,i,a,t]);var m=Object(n.useState)(!1),f=Object($e.a)(m,2),p=f[0],b=f[1],E=u?u.title:"";return r.a.createElement("div",null,r.a.createElement(at.a,{container:!0,spacing:3},r.a.createElement(at.a,{item:!0,container:!0,xs:12,justify:"flex-end"},r.a.createElement(Je,{role:o.role,perform:"defects:create",data:{defectProjectId:t,userProjectId:o.projectId},yes:function(){return r.a.createElement(nt.a,{variant:"primary",onClick:function(){return b(!0)},size:"sm",style:{height:40}},"Add Defect")}})),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(qt,{data:d,projectTitle:E}),r.a.createElement(Ft,{open:p,setOpen:b,projectId:t,projectTitle:E}))))},Yt=function(){var e=Object(De.d)((function(e){return e.authUser.data}));return r.a.createElement("div",null,r.a.createElement(Je,{role:e.role,perform:"admin-defects:list",yes:function(){return r.a.createElement(Kt,null)}}),r.a.createElement(Je,{role:e.role,perform:"assigned-project-defects:list",yes:function(){return r.a.createElement(Ht,{projectId:e.projectId})}}))},Jt=function(e){var t=e.data,a=e.title;return r.a.createElement(bt.a,{title:a,data:t,icons:Ct,columns:[{title:"Id",field:"id",maxWidth:50},{title:"Name",field:"name"},{title:"Email",field:"email"},{title:"Role",field:"role"},{title:"Assigned Project",field:"projectId"}]})},Vt=function(){var e=Object(De.d)((function(e){return e.authUser.data})),t=Object(De.d)(ue),a=tt.a.cloneDeep(t);return r.a.createElement(Je,{role:e.role,perform:"users:list",yes:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(Jt,{data:a,title:"All Users"}))},no:function(){return r.a.createElement("div",null,"You do not have permission to visit this page.")}})},Gt=a(381),Qt=function(e){var t=e.component,a=Object(Gt.a)(e,["component"]);return r.a.createElement(Ne.b,Object.assign({component:Object(Se.c)(t,{onRedirecting:function(){return r.a.createElement(Te,null)}})},a))},_t=a(514),Xt=a(177),Zt=a.n(Xt),$t=a(379),ea=a.n($t),ta=a(380),aa=a(78),na=a(532),ra=Object(aa.a)((function(e){return{root:{"& .MuiFormLabel-root":{color:"#002884"}}}})),ca=function(e){var t=e.defect,a=e.readOnly,c=e.setReadOnly,l=e.identifier,i=e.dev,o=e.users,u=ra(),s=Object(De.c)(),d=Object(De.d)((function(e){return e.authUser.data})),m=Object(De.d)((function(e){return Z(e,t.projectId)})),f=[].concat(Object(ta.a)(o),[{id:null}]),p=m?m.title:"",b=i||{id:null},E=Object(n.useState)(t.summary),j=Object($e.a)(E,2),v=j[0],O=j[1],h=Object(n.useState)(b),g=Object($e.a)(h,2),y=g[0],x=g[1],I=Object(n.useState)(t.description),w=Object($e.a)(I,2),N=w[0],S=w[1],P=Object(n.useState)(t.status),k=Object($e.a)(P,2),C=k[0],A=k[1],R=Object(n.useState)(t.priority),T=Object($e.a)(R,2),W=T[0],M=T[1],B=Object(n.useState)(t.dateIdentified),U=Object($e.a)(B,2),z=U[0],L=U[1],F=Object(n.useState)(t.targetResDate),K=Object($e.a)(F,2),H=K[0],Y=K[1],J=Object(n.useState)(t.actualResolutionDate),V=Object($e.a)(J,2),G=V[0],Q=V[1],_=Object(n.useState)(t.progress),X=Object($e.a)(_,2),$=X[0],ee=X[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=Object(D.a)(Object(D.a)({},t),{},{summary:v,description:N,status:C,priority:W,dateIdentified:z,targetResDate:H,actualResDate:G,progress:$,assignedDevId:y.id});s(q(a)),c()}},r.a.createElement(at.a,{container:!0,spacing:3},r.a.createElement(at.a,{item:!0,xs:12}),r.a.createElement(at.a,{item:!0,xs:12,md:9},r.a.createElement(ot.a,{id:"summary",label:"Summary",value:v,InputProps:{readOnly:a},fullWidth:!0,className:u.root,onChange:function(e){return O(e.target.value)},required:!0})),r.a.createElement(at.a,{item:!0,xs:6,md:3},r.a.createElement(Mt.a,{fullWidth:!0},r.a.createElement(Bt.a,{style:{color:"#002884"},shrink:!0,id:"status-input-label"},"Status"),r.a.createElement(Ut.a,{labelId:"status-input-label",id:"status",value:C,onChange:function(e){return A(e.target.value)},placeholder:C,inputProps:{readOnly:a}},r.a.createElement(zt.a,{value:"OPEN"},"OPEN"),r.a.createElement(zt.a,{value:"CLOSED"},"CLOSED")))),r.a.createElement(at.a,{item:!0,xs:6,md:3},r.a.createElement(Je,{perform:"defects:assignDev",data:{defectProjectId:t.projectId,userProjectId:d.projectId},yes:function(){return r.a.createElement(na.a,{style:{marginTop:-16},id:"user-select",options:f,value:b,onChange:function(e,t){x(t||{id:null})},getOptionLabel:function(e){var t;return null!==(t=e.name)&&void 0!==t?t:""},getOptionSelected:function(e,t){return e.id===t.id},renderInput:function(e){return r.a.createElement(ot.a,Object.assign({},e,{label:"Assigned Developer",margin:"normal"}))},className:u.root,readOnly:a})},no:function(){return r.a.createElement(na.a,{style:{marginTop:-16},id:"user-select",options:f,value:b,onChange:function(e,t){x(t||{id:null})},getOptionLabel:function(e){var t;return null!==(t=e.name)&&void 0!==t?t:""},getOptionSelected:function(e,t){return e.id===t.id},renderInput:function(e){return r.a.createElement(ot.a,Object.assign({},e,{label:"Assigned Developer",margin:"normal"}))},className:u.root,disabled:!a})}})),r.a.createElement(at.a,{item:!0,xs:6,md:3},r.a.createElement(Mt.a,{fullWidth:!0},r.a.createElement(Bt.a,{style:{color:"#002884"},shrink:!0,id:"priority-input-label"},"Priority"),r.a.createElement(Ut.a,{labelId:"priority-input-label",id:"priority",value:W,onChange:function(e){return M(e.target.value)},placeholder:W,inputProps:{readOnly:a}},r.a.createElement(zt.a,{value:""},"None"),r.a.createElement(zt.a,{value:"Low"},"Low"),r.a.createElement(zt.a,{value:"Medium"},"Medium"),r.a.createElement(zt.a,{value:"High"},"High"),r.a.createElement(zt.a,{value:"Immediate"},"Immediate")))),r.a.createElement(at.a,{item:!0,xs:6,md:3},r.a.createElement(ot.a,{id:"identifier",label:"Identifier",value:l.name,InputProps:{readOnly:!0,disabled:!a},fullWidth:!0,className:u.root})),r.a.createElement(at.a,{item:!0,xs:12,md:3},r.a.createElement(ot.a,{id:"associated-project",label:"Associated Project",value:p,InputProps:{readOnly:!0,disabled:!a},fullWidth:!0,className:u.root})),r.a.createElement(at.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(dt.a,{utils:rt.default},r.a.createElement(mt.b,{clearable:!0,label:"Date Identified",format:"MM/dd/yyyy",value:z,onChange:function(e){return L(e)},inputProps:{readOnly:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0,className:u.root}))),r.a.createElement(at.a,{item:!0,xs:12,sm:6,md:4},r.a.createElement(dt.a,{utils:rt.default},r.a.createElement(mt.b,{clearable:!0,label:"Target Resolution Date",format:"MM/dd/yyyy",value:H,onChange:function(e){return Y(e)},inputProps:{readOnly:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0,className:u.root}))),r.a.createElement(at.a,{item:!0,xs:12,md:4},r.a.createElement(dt.a,{utils:rt.default},r.a.createElement(mt.b,{clearable:!0,label:"Actual Resolution Date",format:"MM/dd/yyyy",value:G,onChange:function(e){return Q(e)},inputProps:{readOnly:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0,className:u.root}))),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ot.a,{id:"description",multiline:!0,label:"Detailed Description",value:N,InputProps:{readOnly:a},fullWidth:!0,className:u.root,onChange:function(e){return S(e.target.value)}})),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ot.a,{multiline:!0,id:"progress",label:"Progress",value:$,InputProps:{readOnly:a},fullWidth:!0,onChange:function(e){return ee(e.target.value)},className:u.root})),r.a.createElement(at.a,{container:!0,padding:3,spacing:1},r.a.createElement(at.a,{item:!0,xs:6,container:!0,justify:"flex-end"},!a&&r.a.createElement(st.a,{variant:"contained",type:"submit",color:"primary",style:{display:{readOnly:a}}},"Submit")),r.a.createElement(at.a,{item:!0,xs:6,container:!0,justify:"flex-start"},!a&&r.a.createElement(st.a,{variant:"contained",onClick:function(){c(),O(t.summary),S(t.description),A(t.status),x(t.assignedDev),M(t.priority),L(t.dateIdentified),Y(t.targetResolutionDate),Q(t.actualResDate),ee(t.progress)},color:"inherit"},"Cancel")))))},la=function(){var e=Object(Se.b)(),t=e.isAuthenticated,a=e.getAccessTokenSilently,c=Object(De.d)((function(e){return e.authUser.data})),l=Object(Ne.h)().id,i=Object(Ne.g)(),o=Object(De.c)(),u=Object(De.d)((function(e){return Y(e,Number(l))})),s=Object(De.d)((function(e){return e.defects.status})),d=Object(De.d)((function(e){return e.defects.error})),m=Object(De.d)(ue),f=Object(De.d)((function(e){return e.users.status})),p=Object(n.useState)(!0),b=Object($e.a)(p,2),E=b[0],j=b[1],v={display:E?"":"none"};Object(n.useEffect)((function(){t&&a().then((function(e){o(ve(e)),o(z(l))}))}),[l,o,a,t]);var O,h=function(){j(!E)},g=function(){var e={id:l,projectId:u.projectId};o(F(e)),F.fulfilled&&i.push("/defects")};if("loading"===s)O=r.a.createElement(Te,null);else if("succeeded"===s&&"succeeded"===f){var y=m.find((function(e){return e.id===u.identifierId})),x=m.find((function(e){return e.id===u.assignedDevId}));O=r.a.createElement("div",{className:"container"},r.a.createElement(at.a,{container:!0,spacing:1},r.a.createElement(at.a,{item:!0,xs:6},r.a.createElement("h3",null,"Defect #",l)),r.a.createElement(at.a,{item:!0,container:!0,justify:"flex-end",xs:6,spacing:2},r.a.createElement(Je,{role:c.role,perform:"defects:edit",data:{defectProjectId:u.projectId,userProjectId:c.projectId},yes:function(){return r.a.createElement(_t.a,{onClick:h,color:"primary","aria-label":"edit",size:"medium",style:v},r.a.createElement(Zt.a,null))}}),r.a.createElement(Je,{role:c.role,perform:"project-member-defects:edit",data:{userId:c.id,identifierId:u.identifierId,assignedDevId:u.assignedDevId},yes:function(){return r.a.createElement(_t.a,{onClick:h,color:"primary","aria-label":"edit",size:"medium",style:v},r.a.createElement(Zt.a,null))}}),r.a.createElement("div",{style:{width:10}}),r.a.createElement(Je,{role:c.role,perform:"defects:delete",data:{defectProjectId:u.projectId,userProjectId:c.projectId},yes:function(){return r.a.createElement(_t.a,{onClick:g,color:"secondary","aria-label":"delete",size:"medium"},r.a.createElement(ea.a,null))}})),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ca,{defect:u,readOnly:E,setReadOnly:h,identifier:y,dev:x,users:m}))))}else"failed"===s&&(O=r.a.createElement("div",null,d));var I=u?u.projectId:null;return r.a.createElement(Je,{role:c.role,perform:"defects:viewOne",data:{defectProjectId:I,userProjectId:c.projectId},yes:function(){return r.a.createElement("div",null,O)},no:function(){return r.a.createElement("div",null,"You do not have permission to view this page.")}})},ia=function(e){var t=e.project,a=e.readOnly,c=e.setReadOnly,l=Object(De.c)(),i=Object(n.useState)(t.title),o=Object($e.a)(i,2),u=o[0],s=o[1],d=Object(n.useState)(t.description),m=Object($e.a)(d,2),f=m[0],p=m[1],b=Object(n.useState)(t.startDate),E=Object($e.a)(b,2),j=E[0],v=E[1],O=Object(n.useState)(t.targetEndDate),h=Object($e.a)(O,2),g=h[0],y=h[1],x=Object(n.useState)(t.actualEndDate),I=Object($e.a)(x,2),w=I[0],N=I[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a={id:t.id,title:u,description:f,startDate:j,targetEndDate:g,actualEndDate:w};l(Q(a)),c()}},r.a.createElement(at.a,{container:!0,spacing:3},r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ot.a,{id:"title",label:"Project Title",value:u,InputProps:{readOnly:a,disableUnderline:a},fullWidth:!0,onChange:function(e){return s(e.target.value)},required:!0})),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ot.a,{required:!0,id:"description",multiline:!0,label:"Description",value:f,InputProps:{readOnly:a,disableUnderline:a},fullWidth:!0,onChange:function(e){return p(e.target.value)}})),r.a.createElement(at.a,{item:!0,xs:6,md:4},r.a.createElement(dt.a,{utils:rt.default},r.a.createElement(mt.b,{required:!0,clearable:!0,label:"Start Date",format:"MM/dd/yyyy",value:j,onChange:function(e){return v(e)},inputProps:{readOnly:a,disabled:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0}))),r.a.createElement(at.a,{item:!0,xs:6,md:4},r.a.createElement(dt.a,{utils:rt.default},r.a.createElement(mt.b,{required:!0,clearable:!0,label:"Target End Date",format:"MM/dd/yyyy",value:g,onChange:function(e){return y(e)},inputProps:{readOnly:a,disabled:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0}))),r.a.createElement(at.a,{item:!0,xs:12,md:4},r.a.createElement(dt.a,{utils:rt.default},r.a.createElement(mt.b,{clearable:!0,label:"Actual End Date",format:"MM/dd/yyyy",value:w,onChange:function(e){return N(e)},inputProps:{readOnly:a,disabled:a},KeyboardButtonProps:{"aria-label":"change date",disabled:a,readOnly:a},fullWidth:!0}))),r.a.createElement(at.a,{container:!0,padding:3,spacing:1},r.a.createElement(at.a,{item:!0,xs:6,container:!0,justify:"flex-end"},!a&&r.a.createElement(st.a,{variant:"contained",type:"submit",color:"primary",style:{display:{readOnly:a}}},"Submit")),r.a.createElement(at.a,{item:!0,xs:6,container:!0,justify:"flex-start"},!a&&r.a.createElement(st.a,{variant:"contained",onClick:function(){c(),s(t.title),p(t.description),v(t.startDate),y(t.targetEndDate),N(t.actualEndDate)},color:"inherit"},"Cancel")))))},oa=function(e){var t,a,c=e.id,l=Object(De.d)((function(e){return e.authUser.data})),i=Object(De.d)((function(e){return Z(e,c)})),o=Object(De.d)((t=c,Object(m.a)([function(e){return Z(e,t)},function(e){return e.users.ids.map((function(t){return e.users.entities[t]}))}],(function(e,t){return e?Object.keys(t).map((function(e){return t[e]})).filter((function(t){return e.users.includes(t.id)})):[]})))),u=Object(De.d)((function(e){return e.projects.status})),s=Object(n.useState)(!0),d=Object($e.a)(s,2),f=d[0],p=d[1],b={display:f?"":"none"},E=function(){p(!f)};return"loading"===u?a=r.a.createElement(Te,null):"succeeded"===u?a=r.a.createElement("div",{className:"container"},r.a.createElement(at.a,{container:!0,spacing:1},r.a.createElement(at.a,{item:!0,xs:6},r.a.createElement("h3",null,i.title)),r.a.createElement(at.a,{item:!0,container:!0,justify:"flex-end",xs:6,spacing:2},r.a.createElement(Je,{role:l.role,perform:"projects:edit",yes:function(){return r.a.createElement(_t.a,{onClick:E,color:"primary","aria-label":"edit",size:"medium",style:b},r.a.createElement(Zt.a,null))}})),r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(ia,{project:i,readOnly:f,setReadOnly:E})),r.a.createElement(at.a,{item:!0,xs:12}),r.a.createElement(at.a,{item:!0,xs:12,style:{padding:10}},r.a.createElement(Jt,{data:o,title:"Users in Project"})))):"failed"===u&&(a=r.a.createElement("div",null,"projectError")),r.a.createElement("div",null,a)},ua=function(){var e=Object(De.d)((function(e){return e.authUser.data})),t=Object(De.d)((function(e){return e.authUser.status})),a=Number(Object(Ne.h)().id),n="fulfilled"===t?e.projectId:null;return r.a.createElement(Je,{role:e.role,perform:"projects:viewOne",data:{projectId:a,userProjectId:n},yes:function(){return r.a.createElement(oa,{id:a})},no:function(){return r.a.createElement("div",{className:"container"},"You do not have permission to access this page.")}})},sa=a(513),da=function(){var e=Object(De.c)(),t=Object(Ne.g)(),a=Object(Se.b)().user,c=Object(n.useState)(""),l=Object($e.a)(c,2),i=l[0],o=l[1],u=Object(n.useState)(""),s=Object($e.a)(u,2),d=s[0],m=s[1];return r.a.createElement("div",null,r.a.createElement(ct.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:!0,"aria-labelledby":"user-signup-label"},r.a.createElement("form",{onSubmit:function(n){n.preventDefault();var r={name:i,role:"ADMIN",email:a.email,occupation:d};console.log("\ud83d\ude80 ~ file: UserSignUpForm.js ~ line 36 ~ addUser ~ newValues",r),e(le(r)).then((function(){e(he())})).then((function(){t.push("/")}))}},r.a.createElement(lt.a,{id:"add-user-label"},"New User Sign Up"),r.a.createElement(it.a,null,r.a.createElement(at.a,{container:!0,spacing:2},r.a.createElement(at.a,{item:!0,xs:12},r.a.createElement(sa.a,null,"You will automatically be assigned an Admin role upon sign up.")),r.a.createElement(at.a,{item:!0,container:!0,justify:"center",xs:12},r.a.createElement(ot.a,{required:!0,id:"name",value:i,label:"Name",onChange:function(e){return o(e.target.value)},fullWidth:!0,InputLabelProps:{shrink:!0}})),r.a.createElement(at.a,{container:!0,justify:"center",item:!0,xs:12},r.a.createElement(Mt.a,{fullWidth:!0},r.a.createElement(Bt.a,{required:!0,shrink:!0,id:"priority-input-label"},"Occupation"),r.a.createElement(Ut.a,{required:!0,labelId:"occupation-input-label",id:"occupation",value:d,onChange:function(e){return m(e.target.value)},placeholder:""},r.a.createElement(zt.a,{value:"Tester"},"Tester"),r.a.createElement(zt.a,{value:"Developer"},"Developer"),r.a.createElement(zt.a,{value:"Manager"},"Manager")))),r.a.createElement(at.a,{item:!0,container:!0,xs:12,justify:"center"},r.a.createElement(ut.a,null,r.a.createElement(st.a,{type:"submit",color:"primary"},"Sign Up"))))))))},ma=function(){var e=Object(De.d)((function(e){return e.authUser.data}));return r.a.createElement(Je,{role:e.role,perform:"sign-up:view",yes:function(){return r.a.createElement(da,null)},no:function(){return r.a.createElement(Ne.a,{to:"/"})}})},fa=(a(478),function(){var e=Object(De.c)(),t=Object(Se.b)(),a=t.isLoading,c=t.isAuthenticated,l=t.getAccessTokenSilently,i=t.user;return Object(n.useEffect)((function(){c&&l().then((function(t){e(ve(t)),e(he()),e(V()),e(ce())}))}),[e,l,c,i]),a?r.a.createElement(Te,null):r.a.createElement("div",{id:"app",className:"d-flex flex-column h-100"},r.a.createElement(Ve,null),r.a.createElement("div",{className:"container-fluid flex-grow-1 flex-shrink-1 mb-5"},r.a.createElement("div",{className:"mt-3"},r.a.createElement(Ne.d,null,r.a.createElement(Ne.b,{path:"/",exact:!0,component:Ze}),r.a.createElement(Qt,{exact:!0,path:"/signup",component:ma}),r.a.createElement(Qt,{exact:!0,path:"/projects",component:Tt}),r.a.createElement(Qt,{exact:!0,path:"/projects/:id",component:ua}),r.a.createElement(Qt,{exact:!0,path:"/users",component:Vt}),r.a.createElement(Qt,{exact:!0,path:"/defects",component:Yt}),r.a.createElement(Qt,{exact:!0,path:"/defects/:id",component:la})))),r.a.createElement(Pe,null))}),pa=function(e){var t=e.children,a=Object(Ne.g)();return r.a.createElement(Se.a,{domain:"defect-tracker.us.auth0.com",clientId:"dGdaBCwaB0hITkYE4h3t4xQuS7F9SvcU",redirectUri:window.location.origin,onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"defect-tracker/api"},t)};a(479);l.a.render(r.a.createElement(We.a,null,r.a.createElement(pa,null,r.a.createElement(De.a,{store:we},r.a.createElement(fa,null)))),document.getElementById("root"))}},[[391,1,2]]]);
//# sourceMappingURL=main.e73919dc.chunk.js.map